# 02장 리액트 핵심 요소 깊게 살펴보기

## JSX란?

JSX는 자바스크립트 내부에서 표현하기 까다로웠던 XML 스타일의 트리 구문을 작성하는데 많은 도움을 주느 새로운 문법이다.

## JSX의 정의

JSX는 기본적으로 JSXElement, JSXAttributes, JSXChildren, JSXStrings라는 4가지 컴포넌트를 기반으로 구성돼있다.

**JSXElement**
HTML의 요소(element)와 비슷한 역할

- JSXOpeningElement
- JSXClosingElement
- JSXSelfClosingElement
- JSXFragement ex) <></>

**JSXElementName**
JSXElement의 요소 이름으로 쓸 수 있는 것

- JSXIdentifier: JSX 내부에서 사용할 수 있는 식별자

```jsx
function Valid1() {
    return <$></$>
}

function Valid2() {
    return <_></_>
}

// 불가능
function Invalid() {
    return <1></1>
}
```

**JSXNamespacedName: JSXIdentifier: JSXIdentifier의 조합, 즉 :을 통해 서로 다른 식별자를 이어주는 것도 하나의 식별자로 취급된다. :로 묶을 수 있는 것은 한 개뿐이다.**

```jsx
function valid() {
    return <foo:bar></foo:bar>
}

// 불가능하다
function invalid() {
    return <foo:bar:baz></foo:bar:baz>
}
```

**JSXMemberExpression: JSXIdentifier.JSXIdentifier의 조합, 즉 .을 통해 서로다른 식별자를 이어주는 것도 하나의 식별자로 취급된다.**

```jsx
function valid(){
    return <foo.bar></foo.bar>
}

function valid2() {
    return <foo.bar.baz></foo.bar.baz>
}

// 불가능하다
function invalid() {
    return <foo:bar.baz></foo:bar.baz>
}
```

**JSXAtrributes**

JSXAtrributes: 자바스크립트의 전개 연산자와 동일한 역할을 한다고 볼 수 있다.

JSXAttribute: 속성을 나타내는 키와 값으로 짝을 이루어서 표현한다.

- JSXAttributeName: 속성의 키 값.

```jsx
function valid1() {
  return <foo.bar foo:bar="baz"></foo.bar>;
}
```

- JSXAttributeValue: 속성의 키에 할당할 수 있는 값
  - "큰따옴표로 구성된 문자열"
  - '작은 따옴표로 구성된 문자열'
  - { AssignmentExpression }: 값을 할당할때 쓰는 표현식
  - JSXElement: 값으로 다른 JSX요소가 들어갈수 있다
  - JSXFragemnt: <></>

```jsx
function Child({ attribute }) {
  return <div>{attribute}</div>;
}
export default function App() {
  return (
    <div>
      <Child attribute=<div>hello</div> />
    </div>
  );
}
```

**JSXChildren**

JSXElement의 자식 값을 나타냄

- JSXChild: JSXChildren을 이루는 기본 단위
  - JSXText: {, <, >, }을 제외한 문자열.

```jsx
function valid() {
  return <>{"{} <>"}</>;
}
```

- JSXElement
- JSXFragment
- { JSXChildExpression (optional) }: 자바스크립트의 AssignmentExpression을 의미

```jsx
// 이 함수를 리액트에서 렌더링하면 "foo"라는 문자열이 출력된다.
export default function App() {
  return <>{(() => "foo")()}</>;
}
```

**JSXStrings**

```jsx
<!-- \을 사용하는 데 문제가 없다. -->
<button>\</button>
// Uncaught SyntaxError: Invalid or unexpected token
let escape1 = "\"

// ok
let escape2 = "\\"
```

## JSX 예제

```jsx
// 하나의 요소로 구성된 가장 단순한 형태
const ComponentA = <A>안녕하세요.</A>

// 자식이 없이 SelfClosingTag로 닫혀 있는 형태도 가능하다.
const ComponentB = <A />

// 옵션을 { }와 전개 연산자로 넣을 수 있다.
const ComponentC = <A {...{ required: true }}>

// 속성만 넣어도 가능하다.
const ComponentD = <A required />

// 속성과 속성값을 넣을 수 있다.
const ComponentE = <A required={false} />

const ComponentF = (
    <A>
        {/* 문자열은 큰따옴표 및 작은따옴표 모두 가능하다. */}
        <B text="리액트" />
    </A>
)

const ComponentG = (
    <A>
        {/* 옵션의 값으로 JSXElement를 넣는 것 또한 올바른 문법이다 */}
        <B optionalChildren={<>안녕하세요.</>} />
    </A>
)

const ComponentH = (
    <A>
        {/* 여러 개의 자식도 포함할 수 있다. */}
        안녕하세요
        <B text="리액트" />
    </A>
)
```

이 외에도 리액트 내에서는 유효하지 않거나 사용되는 경우가 거의 없는 문법도 JSX문법 자체로는 유효하다.

```jsx
function ComponentA() {
    return <A.B></A.B>
}

function ComponentB() {
    return <A.B.C></A.B.C>
}

function ComponentC() {
    return <A:B.C></A:B.C>
}

function ComponentD() {
    return <$></$>
}

function ComponentE() {
    return <_></_>
}
```

JSX문법에는 있지만 리엑트에서 사용하지 않는 문법

- JSXNamespacedName
- JSXMemberExpression
